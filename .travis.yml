language: generic
matrix:
  include:
  - dist: precise
    python: '2.7'
    language: python
    os: linux
    env: PYTHON=/usr/bin/python2.7
  - dist: precise
    python: '3.6'
    language: python
    os: linux
    env: PYTHON=/usr/bin/python3.6
  - dist: trusty
    python: '2.7'
    language: python
    os: linux
    env: PYTHON=/usr/bin/python2.7
  - dist: trusty
    python: '3.6'
    language: python
    os: linux
    env: PYTHON=/usr/bin/python3.6
before_install:
- pip install setuptools argparse catkin-pkg catkin_tools trollius
- pip install flake8 coverage codacy-coverage
install:
- python setup.py develop
script:
- python setup.py nosetests -s --with-coverage --cover-xml
after_success:
- python-codacy-coverage -r coverage.xml
notifications:
  email: false
deploy:
  provider: pypi
  user: niosus
  password:
    secure: wvvZjlvFNywOmLEslVIrvwS99TGkZIqHDk0lV7xY3Zp/N565H9xNmfKpHNCE0j2usxPaQ0QETsGCddLhI2+YuItREh0yRa/RF80hrUSCV54pXCtLFpHwUK2g/O47eJNrfPC2TI0J23Y1zs5Ez/MbGPQ7ogU96xzwgdtBEJ4svXk4rb3S03YNy22NiULWIkjjEVJOPO13n5cieMrAk/f1pWYXpPfZMJj1sSV88FhCy6MARiZYwiTp5Unma/ZOdNayLtn5doA2Hv1jAM4BTN8Q3HUEn+ulUw9p/0fcc6XGJX0lkONJvk7lggBKuIXusQVgOCqVFbSJCtiptRi//f3X1bDMRVDyDIjsxiuWyCyPH4JyU9/QnjSi08wGm7wqd1OEdlvfDnn57wqCCJ1dy7J8CxsWeHKYKStrZDOzMUh5ldVq/03l4Uf+FRM0jq6pjEmF3LWkrJi/l7ZGE7uqBRBJddmlESz9dn+AgekZ5gkeZ9FoWIE6F7llNlBgIeh4lUZECS8lz8jj55PufmdFW/+X0i4D5IfXWWvc4qn4aAf6HvXxbdj4OnhoOGvyvTiMAahTNHr3++Ru7ZNmYzFlRNJYwvvbvnoJkBrykRS8bQZ28zkUVkyp8OwWrwwnZva1/zbaMQe1DwmSahSsg05gTTRza76zsrPZrChrq2MLEqIBots=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: PRBonn/catkin_tools_fetch
